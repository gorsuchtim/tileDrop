{"version":3,"sources":["js/Components/Globals/Globals.js","js/Components/Utilities/BuildElement.js","js/Components/BuildGrid/GenericBlock.js","js/Components/BuildGrid/CreateBlock.js","js/Components/SetBlockSize/SetBlockSize.js","js/Components/BuildGrid/BuildGrid.js","js/Components/Countdown/Countdown.js","js/Components/DropBlocks/DropBlocks.js","js/Components/utilities/Utilities.js","js/Components/utilities/BuildElement.js","js/Components/SetTile/GenericTile.js","js/Components/SetTile/CreateTile.js","js/Components/SetTile/SetTile.js","js/Components/ReplaceBlocks/ReplaceBlocks.js","js/Components/Scoring/Scoring.js","js/Components/FlashTile/FlashTile.js","js/Components/Services/Services.js","js/Components/Utilities/Utilities.js","js/App.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Globals","dom","blocksWrap","document","querySelector","gameWidth","clientWidth","gameHeight","clientHeight","timerWrap","timerElement","startButton","pauseButton","score","streak","syncStreakScoreWrap","game","tile_x","tile_y","syncLength","syncCount","flashColor","allBlocks","droppedBlocks","replacedBlocks","music","audio","bpm","BuildElement","type","content","appendTo","attrs","setEvent","addChild","element","ev","addEventListener","functionType","functionName","args","appendChild","parent","forEach","child","elementFactory","init","elementToBuild","util","elementLib","setAttributes","createElement","innerHTML","toBuild","checkForObj","newElement","buildElement","arg","hasOwnProperty","template","buildObjectTemplate","argArray","build","isEmptyObj","addEvents","append","GenericBlock","class","CreateBlock","SetBlockSize","totalRows","totalColumns","squareHeight","squareWidth","squareSize","totalBorderSpace","squareSizeString","borderPerSquare","parseInt","getComputedStyle","documentElement","getPropertyValue","gameArea","gameGrid_x","gameGrid_y","anymoreBlocksNeeded","block","rect","getBoundingClientRect","atBottomYet","setGridPosition","width","length","height","setBlockPosition","style","addToArray","push","BuildGrid","setTimeout","newBlock","Countdown","timer","counter","classChange","timedCount","parentNode","removeChild","Services","runGame","defineTotalBlocksToDrop","blocksToDrop","playerScore","Math","floor","removeBlocks","howManyBlocksToDrop","i","shift","DropBlocks","paused","game_over","console","log","math","createRandomNumber","max","min","currentNumber","newNumber","random","undefined","elements","tiles","sum","acc","currentValue","multiply","subtract","divide","getTodaysDate","date","Date","month","getMonth","day","getDate","year","getFullYear","today","String","netValue","gross","deductions","netValue_tax","taxes","str","addCommas","formatted","replace","toLocaleString","check_alpha","alpha","test","check_alphanumeric","alphanumeric","check_numeric","numeric","currency","substr","removeNonNumeric","percent","event","key","removeCommas","titleCase","toLowerCase","charAt","toUpperCase","slice","cookies","getCookie","name","start","cookie","lastIndexOf","len","substring","end","indexOf","unescape","setCookie","value","maxage","expires","path","domain","secure","dt","escape","toGMTString","delCookie","bindElements","bindFrom","bindFromContent","textContent","bindTo","getAttribute","directive","className","classList","add","remove","classCheck","contains","classChangeDelay","speed","toArray","values","Array","from","newArray","filter_attrs","toMatch","convertToArray","attributes","map","attr","nodeName","filtered","filter","index","includes","getAttrValues","filteredValues","obj","Object","entries","constructor","getIndexByClass","makeFile","fileType","newFile","data","Blob","JSON","stringify","window","URL","revokeObjectURL","createObjectURL","objExists","val","el","setAttribute","shuffleArray","array","j","temp","t","timer_is_on","stopCount","startCount","clearTimeout","setEvents","dynamicElements","call","querySelectorAll","bindingElements","formatElements","stickyNavigation","methods","init_stickyNav","stickyNav","bindingElement","formatAs","formatElement","target","dynamicEvents","dynamicElement","GenericTile","CreateTile","setCoordinates","tile","setTilePos","SetTile","ReplaceBlocks","blocksToReplace","trackSyncStreak","syncStreakCount","utilities","checkForStreakBonus","currentStreak","changeTileBackground","color","Scoring","beatOrSync","beatCount","startSync","increaseFlashCount","FlashTile","startCountdown","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","now","insertBefore","nextSibling","cssTimeout","reloadCSS","links","module","OVERLAY_ID","OldModule","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","overlay","createErrorOverlay","body","getElementById","stackTrace","innerText","getParents","modules","parents","k","d","dep","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"App.dc58c3d0.js","sourceRoot":"..\\src","sourcesContent":["\"use strict\";\r\n\r\nconst Globals = {\r\n  dom: {\r\n    // blocksWrap_width: document.querySelector(\".wrap--blocks\").offsetWidth,\r\n    // blocksWrap_height: document.querySelector(\".wrap--blocks\").offsetHeight,\r\n    //width: window.innerWidth || document.documentElement.clientWidth,\r\n    // height: window.innerHeight || document.documentElement.clientHeight,\r\n    // tile: document.querySelector(\".tile\"),\r\n    // tile_score: tile.firstElementChild,\r\n    // tile_streak: tile.firstElementChild.nextElementSibling,\r\n    blocksWrap: document.querySelector(\".wrap--blocks\"),\r\n    gameWidth: document.querySelector(\".wrap--gameBoard\").clientWidth,\r\n    gameHeight: document.querySelector(\".wrap--gameBoard\").clientHeight,\r\n    timerWrap: document.querySelector(\".wrap--timer\"),\r\n    timerElement: document.querySelector(\".timer\"),\r\n    startButton: document.querySelector(\".start\"),\r\n    pauseButton: document.querySelector(\".pause\"),\r\n    score: document.querySelector(\".score--title\"),\r\n    streak: document.querySelector(\".streak--title\"),\r\n    syncStreakScoreWrap: document.querySelector(\".wrap--syncStreakScore\")\r\n  },\r\n  game: {\r\n    // grid_x: 0,\r\n    // grid_y: 0,\r\n    tile_x: 0,\r\n    tile_y: 0,\r\n    syncLength: 0,\r\n    syncCount: 0,\r\n    flashColor: \"\",\r\n    allBlocks: [],\r\n    droppedBlocks: [],\r\n    replacedBlocks: [],\r\n    droppedBlocks: [],\r\n    replacedBlocks: [],\r\n    game_over: false,\r\n    paused: false,\r\n    playerScore: 0,\r\n    beatCount: 0,\r\n    startSync: 0,\r\n    syncCount: 0,\r\n    powerupCount: 0,\r\n    syncLength: 0,\r\n    syncStreakCount: 0,\r\n    currentStreak: 0\r\n  },\r\n  music: {\r\n    audio: document.querySelector(\".audio__player\"),\r\n    bpm: [1500, 880]\r\n  }\r\n};\r\n\r\nexport default Globals;\r\n","import util from \"./Utilities\";\r\n\r\n/* BuildElement */\r\nclass BuildElement {\r\n  constructor(type, content, appendTo, attrs, setEvent, addChild) {\r\n    this.type = type;\r\n    this.content = content;\r\n    this.appendTo = appendTo;\r\n    this.attrs = attrs;\r\n    this.setEvent = setEvent;\r\n    this.addChild = addChild;\r\n  }\r\n  addEvents(element) {\r\n    const ev = this.setEvent;\r\n    element.addEventListener(ev.functionType, function() {\r\n      ev.functionName(...ev.args);\r\n    });\r\n  }\r\n  append(element) {\r\n    this.appendTo.appendChild(element);\r\n  }\r\n  appendChild(parent) {\r\n    this.addChild.forEach(function(child) {\r\n      if (child.appendTo === \"\") {\r\n        child.appendTo = parent;\r\n      }\r\n      elementFactory.init(child);\r\n    });\r\n  }\r\n  build() {\r\n    const elementToBuild = util.elementLib.setAttributes(\r\n      document.createElement(this.type),\r\n      this.attrs\r\n    );\r\n    elementToBuild.innerHTML = this.content;\r\n    return elementToBuild;\r\n  }\r\n}\r\n\r\n/* ---------------------\r\nElement Factory\r\n----------------------*/\r\nconst elementFactory = {\r\n  init(...args) {\r\n    const toBuild = elementFactory.checkForObj(args);\r\n    const newElement = elementFactory.buildElement(toBuild);\r\n    return newElement;\r\n  },\r\n  checkForObj(arg) {\r\n    if (arg[0].hasOwnProperty(\"type\")) {\r\n      return arg[0];\r\n    } else {\r\n      const template = elementFactory.buildObjectTemplate(arg);\r\n      return template;\r\n    }\r\n  },\r\n  buildObjectTemplate(argArray) {\r\n    const template = {\r\n      type: argArray[0],\r\n      content: argArray[1],\r\n      appendTo: argArray[2],\r\n      attrs: argArray[3],\r\n      setEvent: argArray[4],\r\n      addChild: argArray[5]\r\n    };\r\n    return template;\r\n  },\r\n  buildElement(toBuild) {\r\n    const elementToBuild = new BuildElement(\r\n      toBuild.type,\r\n      toBuild.content,\r\n      toBuild.appendTo,\r\n      toBuild.attrs,\r\n      toBuild.setEvent,\r\n      toBuild.addChild\r\n    );\r\n    const newElement = elementToBuild.build();\r\n    if (!util.elementLib.isEmptyObj(elementToBuild.setEvent)) {\r\n      elementToBuild.addEvents(newElement);\r\n    }\r\n\r\n    if (!util.elementLib.isEmptyObj(elementToBuild.addChild)) {\r\n      elementToBuild.appendChild(newElement);\r\n    }\r\n    elementToBuild.append(newElement);\r\n    return newElement;\r\n  }\r\n};\r\n\r\nexport default elementFactory;\r\n","\"use strict\";\r\n\r\nimport Globals from \"../Globals/Globals\";\r\n\r\nconst GenericBlock = {\r\n  type: \"div\",\r\n  content: \"\",\r\n  appendTo: Globals.dom.blocksWrap,\r\n  attrs: {\r\n    class: \"block\"\r\n  },\r\n  setEvent: {},\r\n  addChild: {}\r\n};\r\n\r\nexport default GenericBlock;\r\n","\"use strict\";\r\nimport elementFactory from \"../Utilities/BuildElement\";\r\nimport GenericBlock from \"./GenericBlock\";\r\n\r\nconst CreateBlock = () => elementFactory.init(GenericBlock);\r\n\r\nexport default CreateBlock;\r\n","import Globals from \"../Globals/Globals\";\r\n\r\nconst SetBlockSize = {\r\n  totalRows: 10,\r\n  totalColumns: 6,\r\n  //squareSize: 0,\r\n  squareHeight: 0,\r\n  squareWidth: 0,\r\n  squareSize: 0,\r\n  totalBorderSpace: 0,\r\n  squareSizeString: 0,\r\n  //BLOCKS ARE TOO WIDE - WE NEED TO ACCOUNT FOR GAME BOARD WIDTH AS WELL AS HEIGHT -- TOO WIDE BY ABOUT HALF A BLOCK\r\n  init() {\r\n    // Need to account for border space per square = --border-width * 2.\r\n    //Only 2 because we only account for top and bottom, not left and right since we are building top down\r\n    var borderPerSquare =\r\n      parseInt(\r\n        getComputedStyle(document.documentElement).getPropertyValue(\r\n          \"--border-width\"\r\n        )\r\n      ) * 2;\r\n\r\n    SetBlockSize.totalBorderSpace = borderPerSquare * SetBlockSize.totalRows;\r\n\r\n    var gameArea = SetBlockSize.totalRows * SetBlockSize.totalColumns;\r\n    //console.log(gameArea);\r\n\r\n    // Determine size of individual blocks dynamically: each block is an equal division of dividing screen height by desired rows\r\n    // Accounting for the width of each square's border\r\n\r\n    SetBlockSize.squareSize =\r\n      (Globals.dom.gameHeight - SetBlockSize.totalBorderSpace) /\r\n      SetBlockSize.totalRows;\r\n\r\n    // var root = document.documentElement;\r\n    // root.style.setProperty(\"--block-width\", SetBlockSize.squareSize + \"px\");\r\n    // root.style.setProperty(\"--block-height\", SetBlockSize.squareSize + \"px\");\r\n\r\n    return true;\r\n  }\r\n};\r\n\r\nexport default SetBlockSize;\r\n","import util from \"../Utilities/Utilities\";\r\nimport CreateBlock from \"./CreateBlock\";\r\nimport Globals from \"../Globals/Globals\";\r\nimport SetBlockSize from \"../SetBlockSize/SetBlockSize\";\r\n\r\nvar gameGrid_x = 0;\r\nvar gameGrid_y = 0;\r\n// NOW WE NEED TO SET UP WHEN TO STOP\r\n// we need to add to array also\r\nconst anymoreBlocksNeeded = block => {\r\n  var rect = block.getBoundingClientRect();\r\n  return true;\r\n};\r\nconst atBottomYet = () => {\r\n  if (gameGrid_y >= Globals.dom.gameHeight - SetBlockSize.squareSize * 2) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst setGridPosition = block => {\r\n  var rect = block.getBoundingClientRect();\r\n\r\n  if (atBottomYet()) {\r\n    gameGrid_y = 0;\r\n    gameGrid_x += rect.width;\r\n  } else {\r\n    if (Globals.game.allBlocks.length == 0) {\r\n      gameGrid_y = 0;\r\n    } else {\r\n      gameGrid_y += rect.height;\r\n    }\r\n  }\r\n  return block;\r\n};\r\n\r\nconst setBlockPosition = block =>\r\n  util.elementLib.setAttributes(block, {\r\n    style: `top: ${gameGrid_y}px; left: ${gameGrid_x}px`\r\n  });\r\n\r\nconst addToArray = block => Globals.game.allBlocks.push(block);\r\n\r\nconst BuildGrid = () => {\r\n  setTimeout(() => {\r\n    if (Globals.game.allBlocks.length > 0) {\r\n      var newBlock = addToArray(\r\n        setBlockPosition(setGridPosition(CreateBlock()))\r\n      );\r\n      //BuildGrid();\r\n    } else {\r\n      addToArray(setBlockPosition(CreateBlock()));\r\n      BuildGrid();\r\n    }\r\n  }, 250);\r\n};\r\n\r\nexport default BuildGrid;\r\n","\"use strict\";\r\n\r\nimport util from \"../Utilities/Utilities\";\r\nimport Globals from \"../Globals/Globals\";\r\nimport Services from \"../Services/Services\";\r\n\r\nconst Countdown = () => {\r\n  // Show timer -> count down to 0\r\n  Globals.dom.timerElement.innerHTML = util.timer.counter;\r\n  util.elementLib.classChange(Globals.dom.timerWrap, \"remove\", \"hidden\");\r\n  util.timer.timedCount(Globals.dom.timerElement);\r\n\r\n  // Hide timer\r\n  setTimeout(() => {\r\n    Globals.dom.timerWrap.parentNode.removeChild(Globals.dom.timerWrap);\r\n  }, 3000); // set timeout equal to countdown: 3000\r\n\r\n  // Start game after countdown - Move this up into the hide timer timeout??\r\n  setTimeout(() => {\r\n    Services.runGame();\r\n  }, 3000 + Globals.music.bpm[0]);\r\n};\r\n\r\nexport default Countdown;\r\n","\"use strict\";\r\nimport Globals from \"../Globals/Globals\";\r\nimport util from \"../Utilities/Utilities\";\r\n\r\n/*\r\nBlocks to drop are in line with players score in increments of 10\r\nAt start of game 1 block drops at a time\r\nAt 20 points, 2 blocks drop -> at 30 points, 3 drop and so on\r\nWhen a block drops, remove it from allBlocks and push it to droppedBlocks\r\n*/\r\n\r\nconst defineTotalBlocksToDrop = () => {\r\n  var blocksToDrop;\r\n  if (Globals.game.playerScore >= 20) {\r\n    blocksToDrop = Math.floor(Globals.game.playerScore / 10);\r\n  } else {\r\n    blocksToDrop = 1;\r\n  }\r\n  return blocksToDrop;\r\n};\r\nconst removeBlocks = howManyBlocksToDrop => {\r\n  for (var i = 0; i < howManyBlocksToDrop; i++) {\r\n    Globals.game.droppedBlocks.push(Globals.game.allBlocks[0]);\r\n    util.elementLib.classChange(\r\n      Globals.game.allBlocks[0],\r\n      \"add\",\r\n      \"falling\",\r\n      \"clear\"\r\n    );\r\n    Globals.game.allBlocks.shift();\r\n  }\r\n};\r\n\r\nconst DropBlocks = () => {\r\n  if (!Globals.game.paused) {\r\n    if (Globals.game.allBlocks.length) {\r\n      setTimeout(() => {\r\n        removeBlocks(defineTotalBlocksToDrop());\r\n        // Uncomment this to continously run drop blocks\r\n        DropBlocks();\r\n      }, 850); // change to match beat of music.bpm[1]\r\n    } else {\r\n      setTimeout(() => {\r\n        Globals.game.game_over = true;\r\n        console.log(\"Game Over, DORK\");\r\n      }, 0); // this was 500 - what happens at 0\r\n    }\r\n  }\r\n};\r\n\r\nexport default DropBlocks;\r\n","\"use strict\";\r\nimport Services from \"../Services/Services\";\r\nimport Globals from \"../Globals/Globals\";\r\n\r\nconst util = {\r\n  math: {\r\n    createRandomNumber(max, min, currentNumber) {\r\n      var newNumber = Math.floor(Math.random() * (max - min) + min);\r\n      if (currentNumber !== undefined) {\r\n        if (newNumber === currentNumber) {\r\n          newNumber = util.createRandomNumber(\r\n            elements.tiles.length,\r\n            0,\r\n            currentNumber\r\n          );\r\n        }\r\n      }\r\n      return newNumber;\r\n    },\r\n    sum(acc, currentValue) {\r\n      return acc + currentValue;\r\n    },\r\n    multiply(acc, currentValue) {\r\n      return acc * currentValue;\r\n    },\r\n    subtract(currentValue, acc) {\r\n      return currentValue - acc;\r\n    },\r\n    divide(currentValue, acc) {\r\n      return currentValue / acc;\r\n    },\r\n    getTodaysDate() {\r\n      const date = new Date();\r\n      const month = date.getMonth() + 1;\r\n      const day = date.getDate();\r\n      const year = date.getFullYear();\r\n      const today = String(`${month}/${day}/${year}`);\r\n      return today;\r\n    },\r\n    netValue(gross, ...deductions) {\r\n      return gross - math.sum(...deductions);\r\n    },\r\n    netValue_tax(gross, ...taxes) {\r\n      // how to use map for this?\r\n      for (var i = 0; i < taxes.length; i++) {\r\n        taxes[i] > 1 ? (taxes[i] = taxes[i] / 100) : false;\r\n      }\r\n      return math.subtract(gross, math.multiply(gross, math.sum(...taxes)));\r\n    }\r\n  },\r\n  str: {\r\n    addCommas(content) {\r\n      typeof content !== \"string\" ? (content = String(content)) : false;\r\n      let formatted = content.replace(/[\\D\\s\\._\\-]+/g, \"\");\r\n      formatted ? (formatted = parseInt(formatted, 10)) : 0;\r\n      return formatted.toLocaleString(\"en-US\");\r\n    },\r\n    check_alpha(content) {\r\n      const alpha = /^[a-zA-Z]*$/;\r\n      return alpha.test(content);\r\n    },\r\n    check_alphanumeric(content) {\r\n      const alphanumeric = /^[a-z0-9]+$/i;\r\n      return alphanumeric.test(content);\r\n    },\r\n    check_numeric(content) {\r\n      const numeric = /^[0-9]+$/;\r\n      return numeric.test(content);\r\n    },\r\n    currency(content) {\r\n      // future add on: use str.toFixed(2) //returns 123.45 in case user needs .xx factored in - also can put in an option to round up\r\n      typeof content !== \"string\" ? (content = String(content)) : false;\r\n      if (content === \"$\" || content === \"\") {\r\n        return content.substr(1, content.length);\r\n      } else {\r\n        if (str.check_numeric(str.removeNonNumeric(content))) {\r\n          return content.replace(content, \"$\" + str.addCommas(content));\r\n        }\r\n      }\r\n    },\r\n    percent(content) {\r\n      if (event.key !== \"Backspace\") {\r\n        if (str.check_numeric(str.removeNonNumeric(content))) {\r\n          return content.replace(content, str.addCommas(content) + \"%\");\r\n        }\r\n      } else {\r\n        return content.substr(0, content.length);\r\n      }\r\n    },\r\n    removeCommas(content) {\r\n      return content.replace(/,/g, \"\");\r\n    },\r\n    removeNonNumeric(content) {\r\n      return content.replace(/\\D/g, \"\");\r\n    },\r\n    titleCase(content) {\r\n      content = content.toLowerCase();\r\n      content = content.charAt(0).toUpperCase() + content.slice(1);\r\n      return content;\r\n    }\r\n  },\r\n  cookies: {\r\n    getCookie(name) {\r\n      var start = document.cookie.lastIndexOf(name + \"=\");\r\n      var len = start + name.length + 1;\r\n      if (!start && name != document.cookie.substring(0, name.length))\r\n        return null;\r\n      if (start == -1) return null;\r\n      var end = document.cookie.indexOf(\";\", len);\r\n      if (end == -1) end = document.cookie.length;\r\n      return unescape(document.cookie.substring(len, end));\r\n    },\r\n    setCookie(name, value, maxage, expires, path, domain, secure) {\r\n      var dt = expires ? new Date(expires) : \"\";\r\n      document.cookie =\r\n        name +\r\n        \"=\" +\r\n        escape(value) +\r\n        (maxage ? \";max-age=\" + maxage : \"\") +\r\n        (dt ? \";expires=\" + dt.toGMTString() : \"\") +\r\n        (path ? \";path=\" + path : \"\") +\r\n        (domain ? \";domain=\" + domain : \"\") +\r\n        (secure ? \";secure\" : \"\");\r\n    },\r\n    delCookie(name) {\r\n      document.cookie =\r\n        name + \"=; expires=Thu, 01-Jan-70 00:00:01 GMT\" + \"; path=/\";\r\n    }\r\n  },\r\n  elementLib: {\r\n    bindElements(bindFrom) {\r\n      const bindFromContent = bindFrom.value || bindFrom.textContent;\r\n      const bindTo = document.querySelector(\r\n        `[bindTo=${bindFrom.getAttribute(\"bindfrom\")}]`\r\n      );\r\n      if (bindTo.value) {\r\n        if (bindFromContent !== \"\") {\r\n          bindTo.value = bindFromContent;\r\n        } else {\r\n          bindTo.value = bindTo.getAttribute(\"initialValue\");\r\n        }\r\n      } else {\r\n        if (bindFromContent !== \"\") {\r\n          bindTo.textContent = bindFromContent;\r\n        } else {\r\n          bindTo.textContent = bindTo.getAttribute(\"initialValue\");\r\n        }\r\n      }\r\n    },\r\n    classChange(element, directive, ...className) {\r\n      directive === \"add\"\r\n        ? element.classList.add(...className)\r\n        : element.classList.remove(...className);\r\n    },\r\n    classCheck(element, className) {\r\n      if (element.classList.contains(className)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    classChangeDelay(elements, speed, ...className) {\r\n      if (elements.length) {\r\n        elements.forEach(element => {\r\n          element.classList.add(...className);\r\n          setTimeout(() => {\r\n            element.classList.remove(...className);\r\n          }, speed);\r\n        });\r\n      } else {\r\n        elements.classList.add(...className);\r\n        setTimeout(() => {\r\n          elements.classList.remove(...className);\r\n        }, speed);\r\n      }\r\n    },\r\n    toArray(values) {\r\n      if (Array.from) {\r\n        return Array.from(values);\r\n      } else {\r\n        var newArray = [];\r\n        for (var i = 0; i < values.length; i++) {\r\n          newArray.push(values[i]);\r\n        }\r\n        return newArray;\r\n      }\r\n    },\r\n    filter_attrs(element, ...toMatch) {\r\n      let attrs = util\r\n        .convertToArray(element.attributes)\r\n        .map(attr => attr.nodeName);\r\n\r\n      const filtered = attrs.filter(index => toMatch.includes(index));\r\n      return filtered;\r\n    },\r\n    getAttrValues(element, attrs) {\r\n      let filteredValues = [];\r\n      attrs.forEach(attr => {\r\n        filteredValues.push(element.getAttribute(attr));\r\n      });\r\n      return filteredValues;\r\n    },\r\n    isEmptyObj(obj) {\r\n      if (Object.entries(obj).length === 0 && obj.constructor === Object) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    getIndexByClass(elements, className) {\r\n      elements.forEach(function(element) {\r\n        if (element.classList.contains(className)) {\r\n          const index = elements.indexOf(element);\r\n        }\r\n      });\r\n      return index;\r\n    },\r\n    makeFile(content, fileType) {\r\n      let newFile = null;\r\n      var data = new Blob([JSON.stringify(content, null, 2)], {\r\n        type: `${fileType}`\r\n      });\r\n      if (newFile !== null) {\r\n        window.URL.revokeObjectURL(newFile);\r\n      }\r\n      newFile = window.URL.createObjectURL(data);\r\n      return newFile;\r\n    },\r\n    objExists(val, obj) {\r\n      for (var key in obj) {\r\n        if (key === val) {\r\n          return true;\r\n        }\r\n      }\r\n    },\r\n    setAttributes(el, attrs) {\r\n      for (var key in attrs) {\r\n        el.setAttribute(key, attrs[key]);\r\n      }\r\n      return el;\r\n    },\r\n    shuffleArray(array) {\r\n      // Randomize array element order in-place: Durstenfeld shuffle algorithm.\r\n      for (var i = array.length - 1; i > 0; i--) {\r\n        var j = Math.floor(Math.random() * (i + 1));\r\n        var temp = array[i];\r\n        array[i] = array[j];\r\n        array[j] = temp;\r\n      }\r\n      return array;\r\n    }\r\n  },\r\n  timer: {\r\n    t: \"\",\r\n    counter: 3, // Set number to count down/up from\r\n    timer_is_on: 0,\r\n    timedCount: function(timerElement) {\r\n      timerElement.innerHTML = util.timer.counter;\r\n      util.timer.counter--; // -- to count down, ++ to count up\r\n      util.timer.t = setTimeout(function() {\r\n        util.timer.timedCount(timerElement);\r\n      }, Globals.music.bpm[1]); // timer counts down at speed of song's bpm\r\n\r\n      if (util.timer.counter < 1) {\r\n        // if timer hits 0\r\n        setTimeout(function() {\r\n          util.timer.stopCount();\r\n        }, 500);\r\n      }\r\n    },\r\n    startCount: function() {\r\n      if (!util.timer.timer_is_on) {\r\n        util.timer.timer_is_on = 1;\r\n        util.timer.timedCount(timerElement);\r\n      }\r\n    },\r\n    stopCount: function() {\r\n      clearTimeout(util.timer.t);\r\n      util.timer.counter = 3;\r\n      util.timer.timer_is_on = 0;\r\n    }\r\n  },\r\n  setEvents: {\r\n    elements: {\r\n      dynamicElements: [].slice.call(document.querySelectorAll(\"[dynamic]\")),\r\n      bindingElements: [].slice.call(document.querySelectorAll(\"[bindFrom]\")),\r\n      formatElements: [].slice.call(document.querySelectorAll(\"[formatAs]\")),\r\n      stickyNavigation: document.querySelector(\"[stickyNav]\")\r\n    },\r\n    methods: {\r\n      init_stickyNav() {\r\n        stickyNav(\r\n          setEvents.elements.stickyNavigation,\r\n          document.querySelector(\".content\")\r\n        );\r\n      },\r\n      bindingElements() {\r\n        // Set an attr of bindFrom=\"\" on elements you want to trigger binding from.  Set bindTo=\"\" to set the element to bind to.  Match the attr values\r\n        setEvents.elements.bindingElements.forEach(bindingElement => {\r\n          bindingElement.addEventListener(\r\n            bindingElement.getAttribute(\"eventType\"),\r\n            function() {\r\n              elementLib.bindElements(this);\r\n            }\r\n          );\r\n        });\r\n      },\r\n      formatAs() {\r\n        // Set attrs of eventType=\"\" and  formatAs=\"\" on elements that you want to format using str\r\n        setEvents.elements.formatElements.forEach(formatElement => {\r\n          formatElement.addEventListener(\r\n            formatElement.getAttribute(\"eventType\"),\r\n            function(ev) {\r\n              if (ev.target.value) {\r\n                ev.target.value = str[formatElement.getAttribute(\"formatAs\")](\r\n                  this.value,\r\n                  ev\r\n                );\r\n              } else {\r\n                ev.target.textContent = str[\r\n                  formatElement.getAttribute(\"formatAs\")\r\n                ](this.textContent, ev);\r\n              }\r\n            }\r\n          );\r\n        });\r\n      },\r\n      dynamicEvents() {\r\n        util.setEvents.elements.dynamicElements.forEach(dynamicElement => {\r\n          dynamicElement.addEventListener(\r\n            dynamicElement.getAttribute(\"eventType\"),\r\n            function() {\r\n              Services[dynamicElement.getAttribute(\"functionName\")](\r\n                this,\r\n                event\r\n              );\r\n            }\r\n          );\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport default util;\r\n","import util from \"./Utilities\";\r\n\r\n/* BuildElement */\r\nclass BuildElement {\r\n  constructor(type, content, appendTo, attrs, setEvent, addChild) {\r\n    this.type = type;\r\n    this.content = content;\r\n    this.appendTo = appendTo;\r\n    this.attrs = attrs;\r\n    this.setEvent = setEvent;\r\n    this.addChild = addChild;\r\n  }\r\n  addEvents(element) {\r\n    const ev = this.setEvent;\r\n    element.addEventListener(ev.functionType, function() {\r\n      ev.functionName(...ev.args);\r\n    });\r\n  }\r\n  append(element) {\r\n    this.appendTo.appendChild(element);\r\n  }\r\n  appendChild(parent) {\r\n    this.addChild.forEach(function(child) {\r\n      if (child.appendTo === \"\") {\r\n        child.appendTo = parent;\r\n      }\r\n      elementFactory.init(child);\r\n    });\r\n  }\r\n  build() {\r\n    const elementToBuild = util.elementLib.setAttributes(\r\n      document.createElement(this.type),\r\n      this.attrs\r\n    );\r\n    elementToBuild.innerHTML = this.content;\r\n    return elementToBuild;\r\n  }\r\n}\r\n\r\n/* ---------------------\r\nElement Factory\r\n----------------------*/\r\nconst elementFactory = {\r\n  init(...args) {\r\n    const toBuild = elementFactory.checkForObj(args);\r\n    const newElement = elementFactory.buildElement(toBuild);\r\n    return newElement;\r\n  },\r\n  checkForObj(arg) {\r\n    if (arg[0].hasOwnProperty(\"type\")) {\r\n      return arg[0];\r\n    } else {\r\n      const template = elementFactory.buildObjectTemplate(arg);\r\n      return template;\r\n    }\r\n  },\r\n  buildObjectTemplate(argArray) {\r\n    const template = {\r\n      type: argArray[0],\r\n      content: argArray[1],\r\n      appendTo: argArray[2],\r\n      attrs: argArray[3],\r\n      setEvent: argArray[4],\r\n      addChild: argArray[5]\r\n    };\r\n    return template;\r\n  },\r\n  buildElement(toBuild) {\r\n    const elementToBuild = new BuildElement(\r\n      toBuild.type,\r\n      toBuild.content,\r\n      toBuild.appendTo,\r\n      toBuild.attrs,\r\n      toBuild.setEvent,\r\n      toBuild.addChild\r\n    );\r\n    const newElement = elementToBuild.build();\r\n    if (!util.elementLib.isEmptyObj(elementToBuild.setEvent)) {\r\n      elementToBuild.addEvents(newElement);\r\n    }\r\n\r\n    if (!util.elementLib.isEmptyObj(elementToBuild.addChild)) {\r\n      elementToBuild.appendChild(newElement);\r\n    }\r\n    elementToBuild.append(newElement);\r\n    return newElement;\r\n  }\r\n};\r\n\r\nexport default elementFactory;\r\n","\"use strict\";\r\n\r\nimport Globals from \"../Globals/Globals\";\r\n//import playerAction from \"../PlayerAction/PlayerAction\";\r\n\r\nconst GenericTile = {\r\n  type: \"div\",\r\n  content: \"\",\r\n  appendTo: Globals.dom.blocksWrap,\r\n  attrs: {\r\n    class: \"tile\"\r\n    /*\r\n    dynamic: \"\",\r\n    eventType: \"click\",\r\n    functionName: playerAction\r\n    */\r\n  },\r\n  setEvent: {},\r\n  addChild: [\r\n    {\r\n      type: \"span\",\r\n      content: \"\",\r\n      appendTo: \"\",\r\n      attrs: {\r\n        class: \"score clear\"\r\n      },\r\n      setEvent: {},\r\n      addChild: {}\r\n    },\r\n    {\r\n      type: \"span\",\r\n      content: \"\",\r\n      appendTo: \"\",\r\n      attrs: {\r\n        class: \"streak clear\"\r\n      },\r\n      setEvent: {},\r\n      addChild: {}\r\n    }\r\n  ]\r\n};\r\n\r\nexport default GenericTile;\r\n","\"use strict\";\r\nimport elementFactory from \"../utilities/BuildElement\";\r\nimport GenericTile from \"./GenericTile\";\r\n\r\nconst CreateTile = () => elementFactory.init(GenericTile);\r\n\r\nexport default CreateTile;\r\n","\"use strict\";\r\nimport util from \"../Utilities/Utilities\";\r\nimport CreateTile from \"./CreateTile\";\r\nimport Globals from \"../Globals/Globals\";\r\n\r\nconst setCoordinates = tile => {\r\n  Globals.game.tile_x = util.math.createRandomNumber(\r\n    Globals.dom.width,\r\n    0,\r\n    Globals.game.tile_x\r\n  );\r\n  Globals.game.tile_y = util.math.createRandomNumber(\r\n    Globals.dom.height,\r\n    0,\r\n    Globals.game.tile_y\r\n  );\r\n  return tile;\r\n};\r\n\r\nconst setTilePos = tile => {\r\n  util.elementLib.setAttributes(tile, {\r\n    style: `top: ${Globals.game.tile_y}px; left: ${Globals.game.tile_x}px`\r\n  });\r\n  return tile;\r\n};\r\n\r\nconst SetTile = () => {\r\n  return setTilePos(setCoordinates(CreateTile()));\r\n};\r\n\r\nexport default SetTile;\r\n","\"use strict\";\r\nimport Globals from \"../Globals/Globals\";\r\nimport util from \"../Utilities/Utilities\";\r\n\r\nconst ReplaceBlocks = blocksToReplace => {\r\n  Globals.game.replacedBlocks = []; // empty changeBlocks.replacedBlocks from previous replacement\r\n  if (Globals.game.droppedBlocks.length >= 1) {\r\n    for (var i = 0; i < blocksToReplace; i++) {\r\n      Globals.game.replacedBlocks.push(Globals.game.droppedBlocks[0]);\r\n      Globals.game.droppedBlocks.shift();\r\n    }\r\n    Globals.game.replacedBlocks.forEach(block => {\r\n      util.elementLib.classChange(block, \"remove\", \"falling\", \"clear\");\r\n      Globals.game.allBlocks.push(block);\r\n    });\r\n  }\r\n};\r\n\r\nexport default ReplaceBlocks;\r\n","\"use strict\";\r\n\r\nimport Globals from \"../Globals/Globals\";\r\nimport util from \"../Utilities/Utilities\";\r\nimport ReplaceBlocks from \"../ReplaceBlocks/ReplaceBlocks\";\r\n\r\nconst trackSyncStreak = tile => {\r\n  // Increase syncStreak count with each tap\r\n  Globals.game.syncStreakCount++;\r\n\r\n  // Update streak in DOM\r\n  Globals.dom.streak.textContent = `Streak: ${Globals.game.syncStreakCount}`;\r\n\r\n  // If the player has continued to stay on the streak during the syncCount, let them know by flashing blue\r\n  if (Globals.game.syncStreakCount == Globals.game.syncCount) {\r\n    utilities.classChangeDelay(tile, 250, \"lit--blue\");\r\n    // If the player has reached the end of the streak then add the synclength value * 10 to their score for bonus\r\n    if (Globals.game.syncStreakCount == Globals.game.syncLength) {\r\n      Globals.game.playerScore += Globals.game.syncLength * 10;\r\n      ReplaceBlocks(10); // and replace 10 OR synclength * 10 worth of blocks when they nail the full syncLength\r\n\r\n      // Update those dom elements\r\n      //   Globals.game.syncStreakScore.textContent = String(\r\n      //     `+${Globals.game.syncLength * 10}!`\r\n      //   );\r\n      //   util.elementLib.classChange(\r\n      //     Globals.game.syncStreakScore,\r\n      //     \"remove\",\r\n      //     \"hidden\"\r\n      // //   );\r\n      //   setTimeout(() => {\r\n      //     util.elementLib.classChange(\r\n      //       Globals.game.syncStreakScore,\r\n      //       \"add\",\r\n      //       \"hidden\"\r\n      //     );\r\n      //   }, 750);\r\n    }\r\n  }\r\n};\r\n\r\nconst checkForStreakBonus = tile => {\r\n  if (Globals.game.currentStreak % 3 === 0) {\r\n    // future upgrade: add powerups\r\n    //powerups.init();\r\n  }\r\n\r\n  // If the player has hit a streak in an increment of 10 increase their score by *10 the current streak (30 in a row = +30 points)\r\n  if (Globals.game.currentStreak % 10 === 0) {\r\n    Globals.game.playerScore += Globals.game.currentStreak;\r\n  }\r\n};\r\n\r\nconst changeTileBackground = tile => {\r\n  var color;\r\n  tile.classList.contains(\"lit--white\") ? (color = \"white\") : (color = \"green\");\r\n  util.elementLib.classChangeDelay(tile, 250, `changeColor--${color}`);\r\n};\r\n\r\nconst Scoring = tile => {\r\n  // If tapped during sync replace 3 blocks - else replace one block\r\n  util.elementLib.classCheck(tile, \"lit--green\")\r\n    ? ReplaceBlocks(3)\r\n    : ReplaceBlocks(1);\r\n  // Increase player score by 1\r\n  Globals.game.playerScore++;\r\n  // See if player is still \"in the streak\" or has hit the full length of the streak\r\n  trackSyncStreak(tile);\r\n\r\n  // Check for streak bonus\r\n  checkForStreakBonus(tile);\r\n\r\n  // Change tile background color\r\n  changeTileBackground(tile);\r\n\r\n  // Update score in DOM\r\n  Globals.dom.score.textContent = `Score: ${Globals.game.playerScore}`;\r\n  console.log(Globals.game.playerScore);\r\n\r\n  // Flash the current score beneath the tile in the DOM\r\n  //utilities.classChangeDelay(tile.firstElementChild, 450, \"flashScore\");\r\n};\r\n\r\nexport default Scoring;\r\n","\"use strict\";\r\n\r\nimport util from \"../Utilities/Utilities\";\r\nimport Globals from \"../Globals/Globals\";\r\nimport SetTile from \"../SetTile/SetTile\";\r\nimport Scoring from \"../Scoring/Scoring\";\r\n\r\nconst beatOrSync = () => {\r\n  if (\r\n    Globals.game.beatCount < Globals.game.startSync ||\r\n    Globals.beatCount === 0\r\n  ) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n\r\nconst increaseFlashCount = () => {\r\n  Globals.game.flashColor == \"lit--white\"\r\n    ? Globals.game.beatCount++\r\n    : Globals.game.syncCount++;\r\n};\r\n\r\nconst FlashTile = () => {\r\n  // If sync streak has been hit reset beatCount and syncCount to 0\r\n  if (Globals.game.syncCount == Globals.game.syncLength) {\r\n    Globals.game.beatCount = 0;\r\n    Globals.game.syncCount = 0;\r\n  }\r\n\r\n  // Randomly set how many beats pass before sync starts AND randomly set how many beats the sync will last\r\n  if (Globals.game.beatCount == 0) {\r\n    Globals.game.startSync = util.math.createRandomNumber(15, 5); // the sync flashing will start at anywhere between 5 and 15 beat flashes\r\n    Globals.game.syncLength = util.math.createRandomNumber(12, 3); // the length of the sync flashing will be between 3 and 12 beats\r\n  }\r\n\r\n  // Determine if current flash is a beat (white flash) or sync (green flash)\r\n  beatOrSync()\r\n    ? (Globals.game.flashColor = \"lit--white\")\r\n    : (Globals.game.flashColor = \"lit--green\");\r\n\r\n  // Create tile in the dom and set it to random position with appropriate flashColor assigned\r\n  util.elementLib.classChange(SetTile(), \"add\", Globals.game.flashColor);\r\n\r\n  // Define and set listener for tile\r\n  var tile = document.querySelector(\".tile\");\r\n  tile.addEventListener(\"click\", function() {\r\n    Scoring(this);\r\n  });\r\n  //util.setEvents.methods.dynamicEvents();\r\n\r\n  increaseFlashCount();\r\n\r\n  // Comment this out so we can debug Scoring.js tile.firstElementChild.nextElementSibling\r\n  // Remove Tile after one beat of music\r\n  if (!Globals.game.game_over && !Globals.game.paused) {\r\n    setTimeout(() => {\r\n      tile.parentNode.removeChild(tile);\r\n    }, 850); // set to music.bpm\r\n    setTimeout(() => {\r\n      FlashTile();\r\n    }, 850);\r\n  } else {\r\n    tile.parentNode.removeChild(tile);\r\n  }\r\n\r\n  // FlashTile();\r\n};\r\n\r\nexport default FlashTile;\r\n","\"use strict\";\r\n\r\nimport Globals from \"../Globals/Globals\";\r\nimport CreateBlock from \"../BuildGrid/CreateBlock\";\r\nimport BuildGrid from \"../BuildGrid/BuildGrid\";\r\nimport Countdown from \"../Countdown/Countdown\";\r\nimport DropBlocks from \"../DropBlocks/DropBlocks\";\r\nimport FlashTile from \"../FlashTile/FlashTile\";\r\nimport SetBlockSize from \"../SetBlockSize/SetBlockSize\";\r\n\r\nconst Services = {\r\n  init() {\r\n    if (SetBlockSize.init()) {\r\n      // BuildGrid(CreateBlock());\r\n      BuildGrid();\r\n    }\r\n  },\r\n  startCountdown() {\r\n    //Countdown();\r\n  },\r\n  runGame() {\r\n    //DropBlocks();\r\n    //FlashTile();\r\n    // blocksRemaining();\r\n  }\r\n};\r\n\r\nexport default Services;\r\n","\"use strict\";\r\nimport Services from \"../Services/Services\";\r\nimport Globals from \"../Globals/Globals\";\r\n\r\nconst util = {\r\n  math: {\r\n    createRandomNumber(max, min, currentNumber) {\r\n      var newNumber = Math.floor(Math.random() * (max - min) + min);\r\n      if (currentNumber !== undefined) {\r\n        if (newNumber === currentNumber) {\r\n          newNumber = util.createRandomNumber(\r\n            elements.tiles.length,\r\n            0,\r\n            currentNumber\r\n          );\r\n        }\r\n      }\r\n      return newNumber;\r\n    },\r\n    sum(acc, currentValue) {\r\n      return acc + currentValue;\r\n    },\r\n    multiply(acc, currentValue) {\r\n      return acc * currentValue;\r\n    },\r\n    subtract(currentValue, acc) {\r\n      return currentValue - acc;\r\n    },\r\n    divide(currentValue, acc) {\r\n      return currentValue / acc;\r\n    },\r\n    getTodaysDate() {\r\n      const date = new Date();\r\n      const month = date.getMonth() + 1;\r\n      const day = date.getDate();\r\n      const year = date.getFullYear();\r\n      const today = String(`${month}/${day}/${year}`);\r\n      return today;\r\n    },\r\n    netValue(gross, ...deductions) {\r\n      return gross - math.sum(...deductions);\r\n    },\r\n    netValue_tax(gross, ...taxes) {\r\n      // how to use map for this?\r\n      for (var i = 0; i < taxes.length; i++) {\r\n        taxes[i] > 1 ? (taxes[i] = taxes[i] / 100) : false;\r\n      }\r\n      return math.subtract(gross, math.multiply(gross, math.sum(...taxes)));\r\n    }\r\n  },\r\n  str: {\r\n    addCommas(content) {\r\n      typeof content !== \"string\" ? (content = String(content)) : false;\r\n      let formatted = content.replace(/[\\D\\s\\._\\-]+/g, \"\");\r\n      formatted ? (formatted = parseInt(formatted, 10)) : 0;\r\n      return formatted.toLocaleString(\"en-US\");\r\n    },\r\n    check_alpha(content) {\r\n      const alpha = /^[a-zA-Z]*$/;\r\n      return alpha.test(content);\r\n    },\r\n    check_alphanumeric(content) {\r\n      const alphanumeric = /^[a-z0-9]+$/i;\r\n      return alphanumeric.test(content);\r\n    },\r\n    check_numeric(content) {\r\n      const numeric = /^[0-9]+$/;\r\n      return numeric.test(content);\r\n    },\r\n    currency(content) {\r\n      // future add on: use str.toFixed(2) //returns 123.45 in case user needs .xx factored in - also can put in an option to round up\r\n      typeof content !== \"string\" ? (content = String(content)) : false;\r\n      if (content === \"$\" || content === \"\") {\r\n        return content.substr(1, content.length);\r\n      } else {\r\n        if (str.check_numeric(str.removeNonNumeric(content))) {\r\n          return content.replace(content, \"$\" + str.addCommas(content));\r\n        }\r\n      }\r\n    },\r\n    percent(content) {\r\n      if (event.key !== \"Backspace\") {\r\n        if (str.check_numeric(str.removeNonNumeric(content))) {\r\n          return content.replace(content, str.addCommas(content) + \"%\");\r\n        }\r\n      } else {\r\n        return content.substr(0, content.length);\r\n      }\r\n    },\r\n    removeCommas(content) {\r\n      return content.replace(/,/g, \"\");\r\n    },\r\n    removeNonNumeric(content) {\r\n      return content.replace(/\\D/g, \"\");\r\n    },\r\n    titleCase(content) {\r\n      content = content.toLowerCase();\r\n      content = content.charAt(0).toUpperCase() + content.slice(1);\r\n      return content;\r\n    }\r\n  },\r\n  cookies: {\r\n    getCookie(name) {\r\n      var start = document.cookie.lastIndexOf(name + \"=\");\r\n      var len = start + name.length + 1;\r\n      if (!start && name != document.cookie.substring(0, name.length))\r\n        return null;\r\n      if (start == -1) return null;\r\n      var end = document.cookie.indexOf(\";\", len);\r\n      if (end == -1) end = document.cookie.length;\r\n      return unescape(document.cookie.substring(len, end));\r\n    },\r\n    setCookie(name, value, maxage, expires, path, domain, secure) {\r\n      var dt = expires ? new Date(expires) : \"\";\r\n      document.cookie =\r\n        name +\r\n        \"=\" +\r\n        escape(value) +\r\n        (maxage ? \";max-age=\" + maxage : \"\") +\r\n        (dt ? \";expires=\" + dt.toGMTString() : \"\") +\r\n        (path ? \";path=\" + path : \"\") +\r\n        (domain ? \";domain=\" + domain : \"\") +\r\n        (secure ? \";secure\" : \"\");\r\n    },\r\n    delCookie(name) {\r\n      document.cookie =\r\n        name + \"=; expires=Thu, 01-Jan-70 00:00:01 GMT\" + \"; path=/\";\r\n    }\r\n  },\r\n  elementLib: {\r\n    bindElements(bindFrom) {\r\n      const bindFromContent = bindFrom.value || bindFrom.textContent;\r\n      const bindTo = document.querySelector(\r\n        `[bindTo=${bindFrom.getAttribute(\"bindfrom\")}]`\r\n      );\r\n      if (bindTo.value) {\r\n        if (bindFromContent !== \"\") {\r\n          bindTo.value = bindFromContent;\r\n        } else {\r\n          bindTo.value = bindTo.getAttribute(\"initialValue\");\r\n        }\r\n      } else {\r\n        if (bindFromContent !== \"\") {\r\n          bindTo.textContent = bindFromContent;\r\n        } else {\r\n          bindTo.textContent = bindTo.getAttribute(\"initialValue\");\r\n        }\r\n      }\r\n    },\r\n    classChange(element, directive, ...className) {\r\n      directive === \"add\"\r\n        ? element.classList.add(...className)\r\n        : element.classList.remove(...className);\r\n    },\r\n    classCheck(element, className) {\r\n      if (element.classList.contains(className)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    classChangeDelay(elements, speed, ...className) {\r\n      if (elements.length) {\r\n        elements.forEach(element => {\r\n          element.classList.add(...className);\r\n          setTimeout(() => {\r\n            element.classList.remove(...className);\r\n          }, speed);\r\n        });\r\n      } else {\r\n        elements.classList.add(...className);\r\n        setTimeout(() => {\r\n          elements.classList.remove(...className);\r\n        }, speed);\r\n      }\r\n    },\r\n    toArray(values) {\r\n      if (Array.from) {\r\n        return Array.from(values);\r\n      } else {\r\n        var newArray = [];\r\n        for (var i = 0; i < values.length; i++) {\r\n          newArray.push(values[i]);\r\n        }\r\n        return newArray;\r\n      }\r\n    },\r\n    filter_attrs(element, ...toMatch) {\r\n      let attrs = util\r\n        .convertToArray(element.attributes)\r\n        .map(attr => attr.nodeName);\r\n\r\n      const filtered = attrs.filter(index => toMatch.includes(index));\r\n      return filtered;\r\n    },\r\n    getAttrValues(element, attrs) {\r\n      let filteredValues = [];\r\n      attrs.forEach(attr => {\r\n        filteredValues.push(element.getAttribute(attr));\r\n      });\r\n      return filteredValues;\r\n    },\r\n    isEmptyObj(obj) {\r\n      if (Object.entries(obj).length === 0 && obj.constructor === Object) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    getIndexByClass(elements, className) {\r\n      elements.forEach(function(element) {\r\n        if (element.classList.contains(className)) {\r\n          const index = elements.indexOf(element);\r\n        }\r\n      });\r\n      return index;\r\n    },\r\n    makeFile(content, fileType) {\r\n      let newFile = null;\r\n      var data = new Blob([JSON.stringify(content, null, 2)], {\r\n        type: `${fileType}`\r\n      });\r\n      if (newFile !== null) {\r\n        window.URL.revokeObjectURL(newFile);\r\n      }\r\n      newFile = window.URL.createObjectURL(data);\r\n      return newFile;\r\n    },\r\n    objExists(val, obj) {\r\n      for (var key in obj) {\r\n        if (key === val) {\r\n          return true;\r\n        }\r\n      }\r\n    },\r\n    setAttributes(el, attrs) {\r\n      for (var key in attrs) {\r\n        el.setAttribute(key, attrs[key]);\r\n      }\r\n      return el;\r\n    },\r\n    shuffleArray(array) {\r\n      // Randomize array element order in-place: Durstenfeld shuffle algorithm.\r\n      for (var i = array.length - 1; i > 0; i--) {\r\n        var j = Math.floor(Math.random() * (i + 1));\r\n        var temp = array[i];\r\n        array[i] = array[j];\r\n        array[j] = temp;\r\n      }\r\n      return array;\r\n    }\r\n  },\r\n  timer: {\r\n    t: \"\",\r\n    counter: 3, // Set number to count down/up from\r\n    timer_is_on: 0,\r\n    timedCount: function(timerElement) {\r\n      timerElement.innerHTML = util.timer.counter;\r\n      util.timer.counter--; // -- to count down, ++ to count up\r\n      util.timer.t = setTimeout(function() {\r\n        util.timer.timedCount(timerElement);\r\n      }, Globals.music.bpm[1]); // timer counts down at speed of song's bpm\r\n\r\n      if (util.timer.counter < 1) {\r\n        // if timer hits 0\r\n        setTimeout(function() {\r\n          util.timer.stopCount();\r\n        }, 500);\r\n      }\r\n    },\r\n    startCount: function() {\r\n      if (!util.timer.timer_is_on) {\r\n        util.timer.timer_is_on = 1;\r\n        util.timer.timedCount(timerElement);\r\n      }\r\n    },\r\n    stopCount: function() {\r\n      clearTimeout(util.timer.t);\r\n      util.timer.counter = 3;\r\n      util.timer.timer_is_on = 0;\r\n    }\r\n  },\r\n  setEvents: {\r\n    elements: {\r\n      dynamicElements: [].slice.call(document.querySelectorAll(\"[dynamic]\")),\r\n      bindingElements: [].slice.call(document.querySelectorAll(\"[bindFrom]\")),\r\n      formatElements: [].slice.call(document.querySelectorAll(\"[formatAs]\")),\r\n      stickyNavigation: document.querySelector(\"[stickyNav]\")\r\n    },\r\n    methods: {\r\n      init_stickyNav() {\r\n        stickyNav(\r\n          setEvents.elements.stickyNavigation,\r\n          document.querySelector(\".content\")\r\n        );\r\n      },\r\n      bindingElements() {\r\n        // Set an attr of bindFrom=\"\" on elements you want to trigger binding from.  Set bindTo=\"\" to set the element to bind to.  Match the attr values\r\n        setEvents.elements.bindingElements.forEach(bindingElement => {\r\n          bindingElement.addEventListener(\r\n            bindingElement.getAttribute(\"eventType\"),\r\n            function() {\r\n              elementLib.bindElements(this);\r\n            }\r\n          );\r\n        });\r\n      },\r\n      formatAs() {\r\n        // Set attrs of eventType=\"\" and  formatAs=\"\" on elements that you want to format using str\r\n        setEvents.elements.formatElements.forEach(formatElement => {\r\n          formatElement.addEventListener(\r\n            formatElement.getAttribute(\"eventType\"),\r\n            function(ev) {\r\n              if (ev.target.value) {\r\n                ev.target.value = str[formatElement.getAttribute(\"formatAs\")](\r\n                  this.value,\r\n                  ev\r\n                );\r\n              } else {\r\n                ev.target.textContent = str[\r\n                  formatElement.getAttribute(\"formatAs\")\r\n                ](this.textContent, ev);\r\n              }\r\n            }\r\n          );\r\n        });\r\n      },\r\n      dynamicEvents() {\r\n        util.setEvents.elements.dynamicElements.forEach(dynamicElement => {\r\n          dynamicElement.addEventListener(\r\n            dynamicElement.getAttribute(\"eventType\"),\r\n            function() {\r\n              Services[dynamicElement.getAttribute(\"functionName\")](\r\n                this,\r\n                event\r\n              );\r\n            }\r\n          );\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport default util;\r\n","// Import styles\r\nimport \"../css/scss/shared.scss\";\r\n\r\n// Import components\r\nimport util from \"./Components/Utilities/Utilities\";\r\nimport Services from \"./Components/Services/Services\";\r\n//import Globals from \"./Components/Globals/Globals\";\r\n\r\nServices.init();\r\n/*\r\n// Start Button Behavior\r\nGlobals.dom.startButton.addEventListener(\"click\", function() {\r\n  Services.init();\r\n  this.classList.()add(\"hidden\");\r\n  Globals.dom.pauseButton.classList.remove(\"hidden\");\r\n  //  Globals.music.audio.play();\r\n});\r\n\r\n// Pause Button Behavior\r\nGlobals.dom.pauseButton.addEventListener(\"click\", function() {\r\n  Globals.game.paused = !Globals.game.paused;\r\n\r\n  if (Globals.game.paused) {\r\n    this.textContent = \"Resume\";\r\n    // Globals.music.audio.pause();\r\n  } else {\r\n    this.textContent = \"Pause\";\r\n    //  Globals.music.audio.play();\r\n    Services.runGame();\r\n  }\r\n});\r\n*/\r\n\r\n/*\r\nNeed to build:\r\nSetup method of resetting streak to 0 when missing a flash\r\nReset button to show up when game is paused\r\n\r\nNeed to test:\r\nTest that streak count increases when on a streak\r\nTest that points add up correctly particularly with re: bonus on streak and synch streak\r\n\r\nBugs:\r\nBuildGrid not stopping at width and height\r\nDropBlocks is leaving 1 block when flashing game over\r\nWhen tapping on sync throws error in ReplaceBlocks re classList of undefined\r\nFlashTile continues to run after game over\r\nStreak title in DOM not emptying to 0 on a missed click\r\n\r\n*/\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}